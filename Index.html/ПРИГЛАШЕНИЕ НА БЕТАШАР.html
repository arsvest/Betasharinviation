<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –ë–µ—Ç–∞—à–∞—Ä</title>
  <style>
    body {
      font-family: 'Georgia', serif;
  background: url(https://png.pngtree.com/background/20250430/original/pngtree-white-roses-and-green-leaves-intersect-picture-image_16455040.jpg) repeat;
  background-size: cover;
  color: #444;
  text-align: center;
  padding: 20px;
    }

    @keyframes goldFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .invitation {
      border: 3px solid gold;
      border-radius: 15px;
      padding: 30px;
      background: rgba(255,255,255,0.9);
      max-width: 700px;
      margin: auto;
      box-shadow: 0 0 20px rgba(218,165,32,0.6);
    }

    h1 {
      font-size: 2.5em;
      background: linear-gradient(90deg, #FFD700, #DAA520, #FFF8DC, #FFD700);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 6s infinite linear;
    }

    @keyframes shine {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }
    input, select, textarea {
      padding: 8px;
      width: 100%;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    button {
      background: goldenrod;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
    }
    button:hover {
      background: #b8860b;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #fff8dc;
      border: 1px solid #f0e68c;
      margin: 5px 0;
      padding: 10px;
      border-radius: 8px;
    }
    .hidden {
      display: none;
    }
    .counters {
      margin-top: 20px;
      font-weight: bold;
      color: #333;
    }
    .event-info {
      font-size: 1.1em;
      margin-bottom: 20px;
      color: #333;
    }
    .admin-panel {
      margin-top: 30px;
      padding: 20px;
      border: 2px dashed goldenrod;
      border-radius: 12px;
      background: #fffdf5;
    }
  </style>
</head>
<body>
  <div class="invitation">
    <h1>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –ë–µ—Ç–∞—à–∞—Ä</h1>
    <p class="event-info" id="eventInfo"></p>

    <form id="rsvpForm">
      <label for="name">–í–∞—à–µ –∏–º—è:</label>
      <input type="text" id="name" required>

      <label for="choice">–í–∞—à –æ—Ç–≤–µ—Ç:</label>
      <select id="choice" required>
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
        <option value="–ü—Ä–∏–¥—É">–ü—Ä–∏–¥—É</option>
        <option value="–í —Ä–∞–∑–¥—É–º—å—è—Ö">–í —Ä–∞–∑–¥—É–º—å—è—Ö</option>
        <option value="–ù–µ —Å–º–æ–≥—É">–ù–µ —Å–º–æ–≥—É</option>
      </select>

      <div id="guestsCountWrapper" class="hidden">
        <label for="guestsCount">–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫?</label>
        <input type="number" id="guestsCount" min="1" value="1">
      </div>

      <label for="note">–°–æ–æ–±—â–µ–Ω–∏–µ (–ø–æ –∂–µ–ª–∞–Ω–∏—é):</label>
      <textarea id="note"></textarea>

      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      <button type="button" id="clearList">–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
    </form>

    <h2>–°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π</h2>
    <ul id="guestList"></ul>

    <div class="counters">
      <p id="totalGuests">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π: 0</p>
      <p id="maybeGuests">–í —Ä–∞–∑–¥—É–º—å—è—Ö: 0</p>
      <p id="declinedGuests">–ù–µ —Å–º–æ–≥—É—Ç –ø—Ä–∏–π—Ç–∏: 0</p>
    </div>

    <!-- üîπ –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div class="admin-panel">
      <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
      <div id="adminLogin">
        <label>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
        <input type="password" id="adminPass">
        <button id="loginBtn">–í–æ–π—Ç–∏</button>
      </div>

      <div id="adminControls" class="hidden">
        <label>–î–∞—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:</label>
        <input type="text" id="adminDate">
        <label>–í—Ä–µ–º—è:</label>
        <input type="text" id="adminTime">
        <label>–ú–µ—Å—Ç–æ:</label>
        <input type="text" id="adminPlace">
        <button id="saveEvent">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
      </div>
    </div>
  </div>

  <script>
    // üîπ –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
    let eventData = JSON.parse(localStorage.getItem("eventData")) || {
      date: "12 –æ–∫—Ç—è–±—Ä—è 2025",
      time: "17:00",
      place: "–≥. –ê–ª–º–∞—Ç—ã, —Ä–µ—Å—Ç–æ—Ä–∞–Ω '–ê–ª—Ç—ã–Ω –û—Ä–¥–∞'"
    };

    function updateEventInfo() {
      document.getElementById("eventInfo").textContent =
        `–î–∞—Ç–∞: ${eventData.date} | –í—Ä–µ–º—è: ${eventData.time} | –ú–µ—Å—Ç–æ: ${eventData.place}`;
    }

    updateEventInfo();

    // üîπ –†–∞–±–æ—Ç–∞ —Å –≥–æ—Å—Ç—è–º–∏
    const form = document.getElementById('rsvpForm');
    const guestList = document.getElementById('guestList');
    const choiceSelect = document.getElementById('choice');
    const guestsCountWrapper = document.getElementById('guestsCountWrapper');
    const guestsCountInput = document.getElementById('guestsCount');

    const totalGuestsEl = document.getElementById('totalGuests');
    const maybeGuestsEl = document.getElementById('maybeGuests');
    const declinedGuestsEl = document.getElementById('declinedGuests');
    const clearBtn = document.getElementById('clearList');

    let guests = JSON.parse(localStorage.getItem('guests')) || [];

    function updateList() {
      guestList.innerHTML = '';
      let total = 0, maybes = 0, declined = 0;

      guests.forEach(g => {
        const li = document.createElement('li');
        li.textContent = `${g.name} ‚Äî ${g.choice}${g.choice === '–ü—Ä–∏–¥—É' ? ' ('+g.count+' —á–µ–ª.)' : ''}${g.note ? ' | '+g.note : ''}`;
        guestList.appendChild(li);

        if (g.choice === '–ü—Ä–∏–¥—É') total += g.count;
        if (g.choice === '–í —Ä–∞–∑–¥—É–º—å—è—Ö') maybes++;
        if (g.choice === '–ù–µ —Å–º–æ–≥—É') declined++;
      });

      totalGuestsEl.textContent = `–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π: ${total}`;
      maybeGuestsEl.textContent = `–í —Ä–∞–∑–¥—É–º—å—è—Ö: ${maybes}`;
      declinedGuestsEl.textContent = `–ù–µ —Å–º–æ–≥—É—Ç –ø—Ä–∏–π—Ç–∏: ${declined}`;
    }

    choiceSelect.addEventListener('change', () => {
      guestsCountWrapper.classList.toggle('hidden', choiceSelect.value !== '–ü—Ä–∏–¥—É');
    });

    form.addEventListener('submit', e => {
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const choice = choiceSelect.value;
      const note = document.getElementById('note').value.trim();
      const count = choice === '–ü—Ä–∏–¥—É' ? parseInt(guestsCountInput.value) || 1 : 0;

      guests.push({ name, choice, note, count });
      localStorage.setItem('guests', JSON.stringify(guests));

      updateList();
      form.reset();
      guestsCountWrapper.classList.add('hidden');
      alert("–°–ø–∞—Å–∏–±–æ! –í–∞—à –æ—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω ‚úÖ");
    });

    clearBtn.addEventListener('click', () => {
      if (confirm("–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π?")) {
        guests = [];
        localStorage.removeItem('guests');
        updateList();
      }
    });

    updateList();

    // üîπ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
    const adminPass = "Kingarsen08"; // ‚Üê –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    document.getElementById("loginBtn").addEventListener("click", () => {
      const entered = document.getElementById("adminPass").value;
      if (entered === adminPass) {
        document.getElementById("adminLogin").classList.add("hidden");
        document.getElementById("adminControls").classList.remove("hidden");

        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
        document.getElementById("adminDate").value = eventData.date;
        document.getElementById("adminTime").value = eventData.time;
        document.getElementById("adminPlace").value = eventData.place;
      } else {
        alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å ‚ùå");
      }
    });

    document.getElementById("saveEvent").addEventListener("click", () => {
      eventData.date = document.getElementById("adminDate").value;
      eventData.time = document.getElementById("adminTime").value;
      eventData.place = document.getElementById("adminPlace").value;

      localStorage.setItem("eventData", JSON.stringify(eventData));
      updateEventInfo();
      alert("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ");
    });
  </script>
</body>
</html>
